!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n(r.key),r)}}function o(e,o,r){return o&&t(e.prototype,o),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,t,o){return(t=n(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function n(t){var o=function(t,o){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(o)?o:o+""}var i=o((function e(t){var o=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:validationConfig;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_showError",(function(e,t,o,r,n){var i=e.querySelector("#".concat(t.id,"-error"));t.classList.add(r),i.textContent=o,i.classList.add(n)})),r(this,"_hideError",(function(e,t,o,r){var n=e.querySelector("#".concat(t.id,"-error"));t.classList.remove(o),n.classList.remove(r),n.textContent=""})),r(this,"_checkInputValidity",(function(e,t,r,n){t.validity.valid?o._hideError(e,t,r,n):o._showError(e,t,t.validationMessage,r,n)})),r(this,"_hasInvalidInput",(function(e){return e.some((function(e){return!e.validity.valid}))})),r(this,"_toggleButtonState",(function(e,t,r){o._hasInvalidInput(e)?(t.classList.add(r),t.setAttribute("disabled",!0)):(t.classList.remove(r),t.removeAttribute("disabled"))})),r(this,"_setEventListeners",(function(e,t,r,n,i,u){var a=Array.from(e.querySelectorAll(t)),l=e.querySelector(r);o._toggleButtonState(a,l,u),a.forEach((function(t){t.addEventListener("input",(function(){o._checkInputValidity(e,t,n,i),o._toggleButtonState(a,l,u)}))}))})),r(this,"enableValidation",(function(){Array.from(document.querySelectorAll(o._config.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),o._setEventListeners(e,o._config.inputSelector,o._config.submitButtonSelector,o._config.inputErrorClass,o._config.errorClass,o._config.inactiveButtonClass)}))})),r(this,"resetValidation",(function(){var e=Array.from(document.querySelectorAll(o._config.inputSelector)),t=Array.from(document.querySelectorAll(o._config.errorSelector));e.forEach((function(e){e.classList.remove(o._config.inputErrorClass)})),t.forEach((function(e){e.classList.remove(o._config.errorClass)}))})),this._popup=t.querySelector(".popup__edit"),this._config=n}));function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}var c=function(){return e=function e(t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._url=t.url,this._cardSelector=o},(t=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".template__element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._popupImage=document.querySelector("#image-popup"),this._popupOverlay=document.querySelector(".popup__overlay"),this._element.addEventListener("click",(function(t){if(t.target.classList.contains("element__like-button")&&t.target.classList.toggle("element__like-button-active"),t.target.classList.contains("element__image")){e._showPopUpImage(e._popupImage,e._popupOverlay);var o=e._popupImage.querySelector(".popup__element-image");o.src=t.target.currentSrc,o.alt=t.target.alt,e._popupImage.querySelector(".popup__element-title").textContent=t.target.alt,document.addEventListener("keydown",e._closePopUpImageEscapeKey)}t.target.classList.contains("element__trash-icon")&&t.target.closest(".template__element").remove()}))}},{key:"_showPopUpImage",value:function(e,t){e.classList.add("popup__opened"),t.classList.add("popup__overlay")}},{key:"_closePopUpImageEscapeKey",value:function(e){this._popupImage=document.querySelector("#image-popup"),this._popupOverlay=document.querySelector(".popup__overlay"),"Escape"===e.key&&(this._popupImage.classList.remove("popup__opened"),this._popupOverlay.classList.remove("popup__overlay"))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".element__image").src=this._url,this._element.querySelector(".element__image").alt=this._name,this._element.querySelector(".element__text").textContent=this._name,this._element}}])&&a(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),p=document.querySelector(".profile__name"),s=document.querySelector(".profile__description"),d=document.querySelector("#popup-profile"),f=d.querySelector(".popup__input-name"),m=d.querySelector(".popup__input-description"),_=d.querySelector("#btn-submit-profile"),y=d.querySelector("#btn-close-profile"),v=document.querySelector(".profile__edit-button"),b=document.querySelector("#place-popup"),S=b.querySelector(".popup__add-name"),h=b.querySelector(".popup__add-adress"),g=document.querySelector(".profile__add-button"),q=b.querySelector("#btn-close-place"),w=b.querySelector("#btn-submit-place"),L=document.querySelector("#popup-overlay-edit"),x=document.querySelector("#popup-overlay-add"),E=document.querySelector("#popup-overlay-image"),D=document.querySelector("#image-popup");function k(e,t){e.classList.add("popup__opened"),t.classList.add("popup__overlay"),document.addEventListener("keydown",H)}function A(e,t){e.classList.remove("popup__opened"),t.classList.remove("popup__overlay"),document.removeEventListener("keydown",H)}function C(e,t){e.classList.remove("popup__opened"),document.removeEventListener("keydown",H)}function B(){A(d,L),A(b,x),C(D)}function H(e){"Escape"===e.key&&B()}v.addEventListener("click",(function(){k(d,L),f.value=document.querySelector(".profile__name").textContent,m.value=document.querySelector(".profile__description").textContent})),y.addEventListener("click",(function(){A(d,L)})),_.addEventListener("click",(function(){var e,t;e=f.value,t=m.value,p.textContent=e,s.textContent=t,A(d,L)})),g.addEventListener("click",(function(){k(b,x),S.value="",h.value="",w.classList.add("popup__button-disabled")})),q.addEventListener("click",(function(){A(b,x),w.classList.add("popup__button-disabled")})),D.addEventListener("click",(function(e){e.target.classList.contains("popup__close-image")&&C(D)})),E.addEventListener("click",B),x.addEventListener("click",B),L.addEventListener("click",B),document.getElementById("profile__avatar-image").src="c15cb08ab8ecfaba54c6.png",document.querySelector(".profile__name"),document.querySelector(".profile__description");var M=document.querySelector("#popup-profile"),I=(M.querySelector(".popup__input-name"),M.querySelector(".popup__input-description"),M.querySelector("#btn-submit-profile"),M.querySelector("#btn-close-profile"),document.querySelector(".profile__edit-button"),document.querySelector("#place-popup")),j=I.querySelector(".popup__add-name"),P=I.querySelector(".popup__add-adress"),G=(document.querySelector(".profile__add-button"),I.querySelector("#btn-close-place"),I.querySelector("#btn-submit-place")),V=(document.querySelector("#popup-overlay-edit"),document.querySelector("#popup-overlay-add")),O=(document.querySelector("#popup-overlay-image"),document.querySelector("#image-popup"),document.querySelector(".elements")),T={formSelector:".popup__edit",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__button-disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input_type_error",errorSelector:".popup__error"},W=[{name:"Detroit Downtown",url:"https://images.unsplash.com/photo-1573112067224-58060384abd5?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Estadio Ford",url:"https://images.unsplash.com/photo-1542385939-cac37e190818?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Desierto de Utah",url:"https://plus.unsplash.com/premium_photo-1697730073417-c32f239b5675?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Ayuntamiento de Pasadena, CA",url:"https://images.unsplash.com/photo-1690002122693-bea650f7bdf5?q=80&w=1976&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Hollywood",url:"https://images.unsplash.com/photo-1581390114939-946f9a890a7f?q=80&w=1931&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Chicago Downtown",url:"https://images.unsplash.com/photo-1581373449483-37449f962b6c?q=80&w=2069&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}];O.innerHTML="",W.forEach((function(e){var t=new c(e,"#template__elements",W).generateCard();O.prepend(t)})),new i(M,T).enableValidation(),new i(I,T).enableValidation(),G.addEventListener("click",(function(){var e={name:j.value,url:P.value},t=new c(e,"#template__elements",W).generateCard();O.prepend(t),W.push(e),A(I,V)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWMsY0FHeENULEVBQW1CLENBQ3ZCdUMsYUFBYyxlQUNkWCxjQUFlLGdCQUNmQyxxQkFBc0Isc0JBQ3RCTCxvQkFBcUIseUJBQ3JCbEIsZ0JBQWlCLDBCQUNqQkMsV0FBWSwwQkFDWnFDLGNBQWUsaUJBR0p5RCxFQUFlLENBQzFCLENBQ0VsRCxLQUFNLG1CQUNORSxJQUFLLDBLQUVQLENBQ0VGLEtBQU0sZUFDTkUsSUFBSyx1S0FFUCxDQUNFRixLQUFNLG1CQUNORSxJQUFLLGdMQUVQLENBQ0VGLEtBQU0sK0JBQ05FLElBQUssMEtBRVAsQ0FDRUYsS0FBTSxZQUNORSxJQUFLLDBLQUVQLENBQ0VGLEtBQU0sbUJBQ05FLElBQUssMktBS1ArQyxFQUFlRSxVQUFZLEdBQzNCRCxFQUFhbkUsU0FBUSxTQUFDcUUsR0FDcEIsSUFDTUMsRUFETyxJQUFJekQsRUFBS3dELEVBQWEsc0JBQXVCRixHQUNqQ0ksZUFDekJMLEVBQWVNLFFBQVFGLEVBQ3pCLElBRzBCLElBQUloSCxFQUFjb0YsRUFBYzVFLEdBQ3hDMkcsbUJBRUssSUFBSW5ILEVBQWMwRixFQUFZbEYsR0FDdEMyRyxtQkFHakJwQixFQUFtQnBELGlCQUFpQixTQUFTLFdBRTNDLElBQU15RSxFQUFVLENBQ2R6RCxLQUFNZ0MsRUFBZTNCLE1BQ3JCSCxJQUFLK0IsRUFBYzVCLE9BS2ZnRCxFQUZPLElBQUl6RCxFQUFLNkQsRUFBUyxzQkFBdUJQLEdBRTdCSSxlQUV6QkwsRUFBZU0sUUFBUUYsR0FFdkJILEVBQWFRLEtBQUtELEdBQ2xCZCxFQUFXWixFQUFZTyxFQUN6QixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL0NsYXNlIEZyb21WYWxpZGF0b3IgY29uIGNvbnN0cnVjdG9yIGNvbiBkb3MgcGFyw6FtZXRyb3NcbmV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IocG9wdXAsIGNvbmZpZyA9IHZhbGlkYXRpb25Db25maWcpIHtcbiAgICB0aGlzLl9wb3B1cCA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2VkaXRcIik7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICB9XG4gIC8vIG3DqXRvZG8gcHJpdmFkbyBwYXJhIHByb2Nlc2FyIGVsIGZvcm11bGFyaW9cbiAgX3Nob3dFcnJvciA9IChcbiAgICBmb3JtRWxlbWVudCxcbiAgICBpbnB1dEVsZW1lbnQsXG4gICAgZXJyb3JNZXNzYWdlLFxuICAgIGlucHV0RXJyb3JDbGFzcyxcbiAgICBlcnJvckNsYXNzXG4gICkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChpbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChlcnJvckNsYXNzKTtcbiAgfTtcbiAgLy8gbcOpdG9kbyBwcml2YWRvIHBhcmEgcHJvY2VzYXIgZWwgZm9ybXVsYXJpb1xuICBfaGlkZUVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGlucHV0RXJyb3JDbGFzcywgZXJyb3JDbGFzcykgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH07XG4gIC8vIG3DqXRvZG8gcHJpdmFkbyBwYXJhIHByb2Nlc2FyIGVsIGZvcm11bGFyaW9cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChcbiAgICBmb3JtRWxlbWVudCxcbiAgICBpbnB1dEVsZW1lbnQsXG4gICAgaW5wdXRFcnJvckNsYXNzLFxuICAgIGVycm9yQ2xhc3NcbiAgKSA9PiB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dFcnJvcihcbiAgICAgICAgZm9ybUVsZW1lbnQsXG4gICAgICAgIGlucHV0RWxlbWVudCxcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlLFxuICAgICAgICBpbnB1dEVycm9yQ2xhc3MsXG4gICAgICAgIGVycm9yQ2xhc3NcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQ2xhc3MpO1xuICAgIH1cbiAgfTtcbiAgLy8gbcOpdG9kbyBwcml2YWRvIHBhcmEgcHJvY2VzYXIgZWwgZm9ybXVsYXJpb1xuICBfaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT4ge1xuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfTtcbiAgLy8gbcOpdG9kbyBwcml2YWRvIHBhcmEgYWN0aXZhciBib3RvbmVzXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGluYWN0aXZlQnV0dG9uQ2xhc3MpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7IC8vRXZpdGEgc3ViaXIgZm9ybSBjb24gRW50ZXIgYcO6biBjdWFuZG8gbG9zIGNhbXBvcyBubyBwYXNlbiBsYSB2YWxpZGFjacOzblxuICAgIH0gZWxzZSB7XG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICBidXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpOyAvL1Blcm1pdGUgc3ViaXIgZm9ybWN1YW5kbyBsb3MgY2FtcG9zIHBhc2VuIGxhIHZhbGlkYWNpw7NuXG4gICAgfVxuICB9O1xuICAvLyBtw6l0b2RvIHByaXZhZG8gcGFyYSBldmVudG9zXG4gIF9zZXRFdmVudExpc3RlbmVycyA9IChcbiAgICBmb3JtRWxlbWVudCxcbiAgICBpbnB1dFNlbGVjdG9yLFxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yLFxuICAgIGlucHV0RXJyb3JDbGFzcyxcbiAgICBlcnJvckNsYXNzLFxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3NcbiAgKSA9PiB7XG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGlucHV0U2VsZWN0b3IpKTtcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihzdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KFxuICAgICAgICAgIGZvcm1FbGVtZW50LFxuICAgICAgICAgIGlucHV0RWxlbWVudCxcbiAgICAgICAgICBpbnB1dEVycm9yQ2xhc3MsXG4gICAgICAgICAgZXJyb3JDbGFzc1xuICAgICAgICApO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIC8vbcOpdG9kbyBww7pibGljbyBxdWUgYWN0aXZhIGxhIHZhbGlkYWNpw7NuIGRlbCBmb3JtdWxhcmlvXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuZm9ybVNlbGVjdG9yKVxuICAgICk7XG4gICAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICAgIGZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoXG4gICAgICAgIGZvcm1FbGVtZW50LFxuICAgICAgICB0aGlzLl9jb25maWcuaW5wdXRTZWxlY3RvcixcbiAgICAgICAgdGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yLFxuICAgICAgICB0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzLFxuICAgICAgICB0aGlzLl9jb25maWcuZXJyb3JDbGFzcyxcbiAgICAgICAgdGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3NcbiAgICAgICk7XG4gICAgfSk7XG4gIH07XG4gIC8vbcOpdG9kbyBwYXJhIGhhY2VyIHJlc2V0IGRlIGxhIHZhbGlkYWNpw7NuIGRlbCBmb3JtdWxhcmlvXG4gIHJlc2V0VmFsaWRhdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIGNvbnN0IGVycm9yTGlzdCA9IEFycmF5LmZyb20oXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5lcnJvclNlbGVjdG9yKVxuICAgICk7XG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgfSk7XG4gICAgZXJyb3JMaXN0LmZvckVhY2goKGVycm9yRWxlbWVudCkgPT4ge1xuICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICAgIH0pO1xuICB9O1xufVxuIiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3VybCA9IGRhdGEudXJsO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgfVxuXG4gIC8vRnVuY2nDs24gcGFyYSBjbG9uYXIgcGxhbnRpbGxhXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBuZXdDYXJkID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGVtcGxhdGVfX2VsZW1lbnRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIG5ld0NhcmQ7XG4gIH1cbiAgLy9tw6l0b2RvcyBwcml2YWRvcyBwYXJhIGNhZGEgY29udHJvbGFkb3IgZGUgZXZlbnRvc1xuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtcG9wdXBcIik7XG4gICAgdGhpcy5fcG9wdXBPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fb3ZlcmxheVwiKTtcblxuICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIC8vQm90w7NuIGRlIGxpa2VcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImVsZW1lbnRfX2xpa2UtYnV0dG9uXCIpKSB7XG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRfX2xpa2UtYnV0dG9uLWFjdGl2ZVwiKTtcbiAgICAgIH1cbiAgICAgIC8vUG9wVXAgZGUgbGEgdmlzdWFsaXphY2nDs24gZGUgbGEgaW1hZ2VuXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJlbGVtZW50X19pbWFnZVwiKSkge1xuICAgICAgICB0aGlzLl9zaG93UG9wVXBJbWFnZSh0aGlzLl9wb3B1cEltYWdlLCB0aGlzLl9wb3B1cE92ZXJsYXkpO1xuICAgICAgICBjb25zdCBpbWFnZVZhbHVlID0gdGhpcy5fcG9wdXBJbWFnZS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIFwiLnBvcHVwX19lbGVtZW50LWltYWdlXCJcbiAgICAgICAgKTtcbiAgICAgICAgaW1hZ2VWYWx1ZS5zcmMgPSBldnQudGFyZ2V0LmN1cnJlbnRTcmM7XG4gICAgICAgIGltYWdlVmFsdWUuYWx0ID0gZXZ0LnRhcmdldC5hbHQ7XG4gICAgICAgIGNvbnN0IGltYWdlVGl0bGUgPSB0aGlzLl9wb3B1cEltYWdlLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgXCIucG9wdXBfX2VsZW1lbnQtdGl0bGVcIlxuICAgICAgICApO1xuICAgICAgICBpbWFnZVRpdGxlLnRleHRDb250ZW50ID0gZXZ0LnRhcmdldC5hbHQ7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2Nsb3NlUG9wVXBJbWFnZUVzY2FwZUtleSk7XG4gICAgICB9XG4gICAgICAvL0VsaW1pbmFyIG1lZGlhbnRlIFhcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImVsZW1lbnRfX3RyYXNoLWljb25cIikpIHtcbiAgICAgICAgZXZ0LnRhcmdldC5jbG9zZXN0KFwiLnRlbXBsYXRlX19lbGVtZW50XCIpLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8vRnVuY2nDs24gcGFyYSBtb3N0cmFyIHBvcHVwIGRlIGxhIGltYWdlblxuICBfc2hvd1BvcFVwSW1hZ2UocG9wdXAsIG92ZXJsYXkpIHtcbiAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX29wZW5lZFwiKTtcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9fb3ZlcmxheVwiKTtcbiAgfVxuICAvL0Z1bmNpw7NuIHBhcmEgY2VycmFyIGNvbiBFU0NcbiAgX2Nsb3NlUG9wVXBJbWFnZUVzY2FwZUtleShldnQpIHtcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbWFnZS1wb3B1cFwiKTtcbiAgICB0aGlzLl9wb3B1cE92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19vdmVybGF5XCIpO1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLl9wb3B1cEltYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9fb3BlbmVkXCIpO1xuICAgICAgdGhpcy5fcG9wdXBPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9fb3ZlcmxheVwiKTtcbiAgICB9XG4gIH1cblxuICAvL23DqXRvZG8gcMO6YmxpY28gcXVlIGRldnVlbHZlIHVuIGVsZW1lbnRvIGNhcmRcbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIikuc3JjID0gdGhpcy5fdXJsO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190ZXh0XCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG4iLCIvL1NlY2Npb24gZGUgcHJvZmlsZVxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xuXG4vL0VkaWNpw7NuIGRlIHBlcmZpbFxuY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1wcm9maWxlXCIpO1xuY29uc3QgcG9wdXBOYW1lUHJvZmlsZSA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dC1uYW1lXCIpO1xuY29uc3QgcG9wdXBBYm91dFByb2ZpbGUgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcihcbiAgXCIucG9wdXBfX2lucHV0LWRlc2NyaXB0aW9uXCJcbik7XG5jb25zdCBjb25maXJtQnV0dG9uUHJvZmlsZSA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiI2J0bi1zdWJtaXQtcHJvZmlsZVwiKTtcbmNvbnN0IGNhbmNlbEJ1dHRvblByb2ZpbGUgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcihcIiNidG4tY2xvc2UtcHJvZmlsZVwiKTtcbmNvbnN0IGVkaXRCdXR0b25Qcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcblxuLy9BZ3JlZ2FyIG51ZXZvIGx1Z2FyXG5jb25zdCBwb3B1cFBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbGFjZS1wb3B1cFwiKTtcbmNvbnN0IHBvcHVwTmFtZVBsYWNlID0gcG9wdXBQbGFjZS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19hZGQtbmFtZVwiKTtcbmNvbnN0IHBvcHVwVXJsUGxhY2UgPSBwb3B1cFBsYWNlLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2FkZC1hZHJlc3NcIik7XG5jb25zdCBhZGRCdXR0b25QbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmNvbnN0IGNhbmNlbEJ1dHRvblBsYWNlID0gcG9wdXBQbGFjZS5xdWVyeVNlbGVjdG9yKFwiI2J0bi1jbG9zZS1wbGFjZVwiKTtcbmNvbnN0IGNvbmZpcm1CdXR0b25QbGFjZSA9IHBvcHVwUGxhY2UucXVlcnlTZWxlY3RvcihcIiNidG4tc3VibWl0LXBsYWNlXCIpO1xuXG4vL092ZXJsYXlcbmNvbnN0IGNsb3NlT3ZlcmxheUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwLW92ZXJsYXktZWRpdFwiKTtcbmNvbnN0IGNsb3NlT3ZlcmxheUFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtb3ZlcmxheS1hZGRcIik7XG5jb25zdCBjbG9zZU92ZXJsYXlJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtb3ZlcmxheS1pbWFnZVwiKTtcblxuLy9Qb3B1cCBkZSBpbWFnZW5cbmNvbnN0IHBvcHVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLXBvcHVwXCIpO1xuXG4vL0Z1bmNpw7NuIHBhcmEgbW9zdHJhciBlbCBwb3BVcCAtIEZvcm1zXG5mdW5jdGlvbiBzaG93UG9wVXAocG9wdXAsIG92ZXJsYXkpIHtcbiAgcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX19vcGVuZWRcIik7XG4gIG92ZXJsYXkuY2xhc3NMaXN0LmFkZChcInBvcHVwX19vdmVybGF5XCIpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZUFueVBvcFVwRXNjYXBlS2V5KTtcbn1cblxuLy9GdW5jacOzbiBwYXJhIG9jdWx0YXIgZWwgcG9wVXAgLSBGb3Jtc1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlUG9wVXAocG9wdXAsIG92ZXJsYXkpIHtcbiAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19vcGVuZWRcIik7XG4gIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19vdmVybGF5XCIpO1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZUFueVBvcFVwRXNjYXBlS2V5KTtcbn1cblxuLy9GdW5jacOzbiBwYXJhIG9jdWx0YXIgZWwgcG9wVXAgLSBJbWFnZW5cbmZ1bmN0aW9uIGNsb3NlUG9wVXBJbWFnZShwb3B1cCwgb3ZlcmxheSkge1xuICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX29wZW5lZFwiKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgY2xvc2VBbnlQb3BVcEVzY2FwZUtleSk7XG59XG5cbi8vRnVuY2nDs24gcGFyYSBjZXJyYXIgcG9wVXBzIC0gQWxsXG5mdW5jdGlvbiBjbG9zZUFueVBvcFVwKCkge1xuICBjbG9zZVBvcFVwKHBvcHVwUHJvZmlsZSwgY2xvc2VPdmVybGF5RWRpdCk7XG4gIGNsb3NlUG9wVXAocG9wdXBQbGFjZSwgY2xvc2VPdmVybGF5QWRkKTsgLy9cbiAgY2xvc2VQb3BVcEltYWdlKHBvcHVwSW1hZ2UsIGNsb3NlT3ZlcmxheUltYWdlKTsgLy9cbn1cblxuLy9GdW5jacOzbiBwYXJhIGNlcnJhciBwb3B1cHMgY29uIEVTQ1xuZnVuY3Rpb24gY2xvc2VBbnlQb3BVcEVzY2FwZUtleShldnQpIHtcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICBjbG9zZUFueVBvcFVwKCk7XG4gIH1cbn1cblxuLy9GdW5jacOzbiBwYXJhIGVkaXRhciBmb3JtcyAtIHBlcmZpbCB5IHByb2Zlc2nDs25cbmZ1bmN0aW9uIGVkaXRQcm9maWxlKG5hbWUsIGFib3V0KSB7XG4gIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gYWJvdXQ7XG59XG5cbi8vRXZlbnRvIHBhcmEgYWJyaXIgbGEgdmVudGFuYSBwb3B1cCBQcm9maWxlXG5lZGl0QnV0dG9uUHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBzaG93UG9wVXAocG9wdXBQcm9maWxlLCBjbG9zZU92ZXJsYXlFZGl0KTtcbiAgcG9wdXBOYW1lUHJvZmlsZS52YWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKS50ZXh0Q29udGVudDtcbiAgcG9wdXBBYm91dFByb2ZpbGUudmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCJcbiAgKS50ZXh0Q29udGVudDtcbn0pO1xuXG4vL0V2ZW50byBwYXJhIGNlcnJhciBsYSB2ZW50YW5hIHBvcFVwIFByb2ZpbGUgY29uIFhcbmNhbmNlbEJ1dHRvblByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY2xvc2VQb3BVcChwb3B1cFByb2ZpbGUsIGNsb3NlT3ZlcmxheUVkaXQpO1xufSk7XG5cbi8vQWN0dWFsaXphIFByb2ZpbGUgYWwgZGFyIGNsaWNrIGVuIGVsIGJvdMOzbiBHdWFyZGFyXG5jb25maXJtQnV0dG9uUHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBlZGl0UHJvZmlsZShwb3B1cE5hbWVQcm9maWxlLnZhbHVlLCBwb3B1cEFib3V0UHJvZmlsZS52YWx1ZSk7XG4gIGNsb3NlUG9wVXAocG9wdXBQcm9maWxlLCBjbG9zZU92ZXJsYXlFZGl0KTtcbn0pO1xuXG4vL0FicmUgbGEgdmVudGFuYSBwb3B1cCBQbGFjZVxuYWRkQnV0dG9uUGxhY2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgc2hvd1BvcFVwKHBvcHVwUGxhY2UsIGNsb3NlT3ZlcmxheUFkZCk7XG4gIHBvcHVwTmFtZVBsYWNlLnZhbHVlID0gXCJcIjtcbiAgcG9wdXBVcmxQbGFjZS52YWx1ZSA9IFwiXCI7XG4gIGNvbmZpcm1CdXR0b25QbGFjZS5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2J1dHRvbi1kaXNhYmxlZFwiKTtcbn0pO1xuXG4vL0NpZXJyYSBsYSB2ZW50YW5hIHBvcFVwIFBsYWNlIGNvbiBYXG5jYW5jZWxCdXR0b25QbGFjZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjbG9zZVBvcFVwKHBvcHVwUGxhY2UsIGNsb3NlT3ZlcmxheUFkZCk7XG4gIGNvbmZpcm1CdXR0b25QbGFjZS5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2J1dHRvbi1kaXNhYmxlZFwiKTtcbn0pO1xuXG4vL2NpZXJyYSBlbCBwb3B1cCBkZSBpbWFnZW4gY29uIFhcbnBvcHVwSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2Nsb3NlLWltYWdlXCIpKSB7XG4gICAgY2xvc2VQb3BVcEltYWdlKHBvcHVwSW1hZ2UsIGNsb3NlT3ZlcmxheUltYWdlKTtcbiAgfVxufSk7XG5cbi8vY2llcnJhIGxvcyBwb3BVcHMgYWwgZGFyIGNsaWNrIGVuIE92ZXJsYXlcbmNsb3NlT3ZlcmxheUltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZUFueVBvcFVwKTtcbmNsb3NlT3ZlcmxheUFkZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VBbnlQb3BVcCk7XG5jbG9zZU92ZXJsYXlFZGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZUFueVBvcFVwKTtcbiIsImltcG9ydCBcIi4vc3R5bGVzL2luZGV4LmNzc1wiOyAvLyBhZ3JlZ2EgbGEgaW1wb3J0YWNpw7NuIGRlbCBhcmNoaXZvIHByaW5jaXBhbCBkZSBob2phcyBkZSBlc3RpbG9cbmltcG9ydCBzdGVwc1NyYyBmcm9tIFwiLi9pbWFnZXMvcHJvZmlsZV9hdmF0YXItZm90by5wbmdcIjtcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4vQ2FyZC5qc1wiO1xuaW1wb3J0IHsgY2xvc2VQb3BVcCB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5cbi8vbGVlciBmb3RvIGRlIHBlcmZpbFxuY29uc3Qgc3RlcHNJbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZmlsZV9fYXZhdGFyLWltYWdlXCIpO1xuc3RlcHNJbWFnZS5zcmMgPSBzdGVwc1NyYztcblxuLy9TZWNjaW9uIGRlIHByb2ZpbGVcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcblxuLy9FZGljacOzbiBkZSBwZXJmaWxcbmNvbnN0IHBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtcHJvZmlsZVwiKTtcbmNvbnN0IHBvcHVwTmFtZVByb2ZpbGUgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXQtbmFtZVwiKTtcbmNvbnN0IHBvcHVwQWJvdXRQcm9maWxlID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnBvcHVwX19pbnB1dC1kZXNjcmlwdGlvblwiXG4pO1xuY29uc3QgY29uZmlybUJ1dHRvblByb2ZpbGUgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcihcIiNidG4tc3VibWl0LXByb2ZpbGVcIik7XG5jb25zdCBjYW5jZWxCdXR0b25Qcm9maWxlID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIjYnRuLWNsb3NlLXByb2ZpbGVcIik7XG5jb25zdCBlZGl0QnV0dG9uUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XG5cbi8vQWdyZWdhciBudWV2byBsdWdhclxuY29uc3QgcG9wdXBQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGxhY2UtcG9wdXBcIik7XG5jb25zdCBwb3B1cE5hbWVQbGFjZSA9IHBvcHVwUGxhY2UucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYWRkLW5hbWVcIik7XG5jb25zdCBwb3B1cFVybFBsYWNlID0gcG9wdXBQbGFjZS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19hZGQtYWRyZXNzXCIpO1xuY29uc3QgYWRkQnV0dG9uUGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5jb25zdCBjYW5jZWxCdXR0b25QbGFjZSA9IHBvcHVwUGxhY2UucXVlcnlTZWxlY3RvcihcIiNidG4tY2xvc2UtcGxhY2VcIik7XG5jb25zdCBjb25maXJtQnV0dG9uUGxhY2UgPSBwb3B1cFBsYWNlLnF1ZXJ5U2VsZWN0b3IoXCIjYnRuLXN1Ym1pdC1wbGFjZVwiKTtcblxuLy9PdmVybGF5XG5jb25zdCBjbG9zZU92ZXJsYXlFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1vdmVybGF5LWVkaXRcIik7XG5jb25zdCBjbG9zZU92ZXJsYXlBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwLW92ZXJsYXktYWRkXCIpO1xuY29uc3QgY2xvc2VPdmVybGF5SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwLW92ZXJsYXktaW1hZ2VcIik7XG5cbi8vUG9wdXAgZGUgaW1hZ2VuXG5jb25zdCBwb3B1cEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbWFnZS1wb3B1cFwiKTtcblxuLy9TZWNjacOzbiBwYXJhIGFncmVnYXIgdGFyamV0YXNcbmNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcblxuLy9mcm9tIEZvcm1WYWxpZGF0b3JcbmNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2VkaXRcIixcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc2F2ZS1idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uLWRpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yU2VsZWN0b3I6IFwiLnBvcHVwX19lcnJvclwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiRGV0cm9pdCBEb3dudG93blwiLFxuICAgIHVybDogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU3MzExMjA2NzIyNC01ODA2MDM4NGFiZDU/cT04MCZ3PTE5NzQmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkVzdGFkaW8gRm9yZFwiLFxuICAgIHVybDogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU0MjM4NTkzOS1jYWMzN2UxOTA4MTg/cT04MCZ3PTE5NzQmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkRlc2llcnRvIGRlIFV0YWhcIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9wbHVzLnVuc3BsYXNoLmNvbS9wcmVtaXVtX3Bob3RvLTE2OTc3MzAwNzM0MTctYzMyZjIzOWI1Njc1P3E9ODAmdz0xOTc0JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJBeXVudGFtaWVudG8gZGUgUGFzYWRlbmEsIENBXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNjkwMDAyMTIyNjkzLWJlYTY1MGY3YmRmNT9xPTgwJnc9MTk3NiZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiSG9sbHl3b29kXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTgxMzkwMTE0OTM5LTk0NmY5YTg5MGE3Zj9xPTgwJnc9MTkzMSZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQ2hpY2FnbyBEb3dudG93blwiLFxuICAgIHVybDogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU4MTM3MzQ0OTQ4My0zNzQ0OWY5NjJiNmM/cT04MCZ3PTIwNjkmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXG4gIH0sXG5dO1xuXG4oZnVuY3Rpb24gbG9hZENhcmRzKCkge1xuICBjYXJkc0NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICBpbml0aWFsQ2FyZHMuZm9yRWFjaCgoaW5pdGlhbENhcmQpID0+IHtcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoaW5pdGlhbENhcmQsIFwiI3RlbXBsYXRlX19lbGVtZW50c1wiLCBpbml0aWFsQ2FyZHMpO1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgICBjYXJkc0NvbnRhaW5lci5wcmVwZW5kKGNhcmRFbGVtZW50KTtcbiAgfSk7XG59KSgpO1xuXG5jb25zdCB2YWxpZGF0ZUZvcm1Qcm9maWxlID0gbmV3IEZvcm1WYWxpZGF0b3IocG9wdXBQcm9maWxlLCB2YWxpZGF0aW9uQ29uZmlnKTtcbnZhbGlkYXRlRm9ybVByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCB2YWxpZGF0ZUZvcm1DYXJkID0gbmV3IEZvcm1WYWxpZGF0b3IocG9wdXBQbGFjZSwgdmFsaWRhdGlvbkNvbmZpZyk7XG52YWxpZGF0ZUZvcm1DYXJkLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy9BZ3JlZ2EgbnVldmEgY2FyZFxuY29uZmlybUJ1dHRvblBsYWNlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIC8vc2UgY3JlYSB1biBudWV2byBvYmpldG8gY29uIGxvcyB2YWxvcmVzIGRlIGxvcyBpbnB1dHNcbiAgY29uc3QgbmV3Q2FyZCA9IHtcbiAgICBuYW1lOiBwb3B1cE5hbWVQbGFjZS52YWx1ZSxcbiAgICB1cmw6IHBvcHVwVXJsUGxhY2UudmFsdWUsXG4gIH07XG4gIC8vc2UgY3JlYSB1bmEgbnVldmEgY2xhc2UgZGVsIG9iZWpvciBDYXJkXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChuZXdDYXJkLCBcIiN0ZW1wbGF0ZV9fZWxlbWVudHNcIiwgaW5pdGlhbENhcmRzKTtcbiAgLy9zZSBnZW5lcmEgbGEgbnVldmEgdGFyamV0YVxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gIC8vc2UgaW5zZXJ0YSBlbiBlbCBodG1sXG4gIGNhcmRzQ29udGFpbmVyLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xuICAvL3NlIGluc2VydGEgZWwgb2JlanRvIGVuIGVsIGFycmVnbG8gaW5pY2lhbFxuICBpbml0aWFsQ2FyZHMucHVzaChuZXdDYXJkKTtcbiAgY2xvc2VQb3BVcChwb3B1cFBsYWNlLCBjbG9zZU92ZXJsYXlBZGQpO1xufSk7XG4iXSwibmFtZXMiOlsiRm9ybVZhbGlkYXRvciIsIl9jcmVhdGVDbGFzcyIsInBvcHVwIiwiX3RoaXMiLCJjb25maWciLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiX2NsYXNzQ2FsbENoZWNrIiwiX2RlZmluZVByb3BlcnR5IiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiZXJyb3JFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbmNhdCIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJyZW1vdmUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVFcnJvciIsIl9zaG93RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsInNvbWUiLCJidXR0b25FbGVtZW50IiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZG9jdW1lbnQiLCJfY29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJlcnJvckxpc3QiLCJlcnJvclNlbGVjdG9yIiwidGhpcyIsIl9wb3B1cCIsIkNhcmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiX25hbWUiLCJuYW1lIiwiX3VybCIsInVybCIsIl9jYXJkU2VsZWN0b3IiLCJrZXkiLCJ2YWx1ZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cE92ZXJsYXkiLCJfZWxlbWVudCIsInRhcmdldCIsImNvbnRhaW5zIiwidG9nZ2xlIiwiX3Nob3dQb3BVcEltYWdlIiwiaW1hZ2VWYWx1ZSIsInNyYyIsImN1cnJlbnRTcmMiLCJhbHQiLCJfY2xvc2VQb3BVcEltYWdlRXNjYXBlS2V5IiwiY2xvc2VzdCIsIm92ZXJsYXkiLCJfZ2V0VGVtcGxhdGUiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjcmlwdGlvbiIsInBvcHVwUHJvZmlsZSIsInBvcHVwTmFtZVByb2ZpbGUiLCJwb3B1cEFib3V0UHJvZmlsZSIsImNvbmZpcm1CdXR0b25Qcm9maWxlIiwiY2FuY2VsQnV0dG9uUHJvZmlsZSIsImVkaXRCdXR0b25Qcm9maWxlIiwicG9wdXBQbGFjZSIsInBvcHVwTmFtZVBsYWNlIiwicG9wdXBVcmxQbGFjZSIsImFkZEJ1dHRvblBsYWNlIiwiY2FuY2VsQnV0dG9uUGxhY2UiLCJjb25maXJtQnV0dG9uUGxhY2UiLCJjbG9zZU92ZXJsYXlFZGl0IiwiY2xvc2VPdmVybGF5QWRkIiwiY2xvc2VPdmVybGF5SW1hZ2UiLCJwb3B1cEltYWdlIiwic2hvd1BvcFVwIiwiY2xvc2VBbnlQb3BVcEVzY2FwZUtleSIsImNsb3NlUG9wVXAiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvc2VQb3BVcEltYWdlIiwiY2xvc2VBbnlQb3BVcCIsImFib3V0IiwiZ2V0RWxlbWVudEJ5SWQiLCJjYXJkc0NvbnRhaW5lciIsImluaXRpYWxDYXJkcyIsImlubmVySFRNTCIsImluaXRpYWxDYXJkIiwiY2FyZEVsZW1lbnQiLCJnZW5lcmF0ZUNhcmQiLCJwcmVwZW5kIiwiZW5hYmxlVmFsaWRhdGlvbiIsIm5ld0NhcmQiLCJwdXNoIl0sInNvdXJjZVJvb3QiOiIifQ==